{"ast":null,"code":"import _objectSpread from\"D:/New folder (4)/instagram-mern-main/backend/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/New folder (4)/instagram-mern-main/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{useParams}from'react-router-dom';import{toast}from'react-toastify';import{clearErrors,getAllMessages,sendMessage}from'../../actions/messageAction';import{getUserDetailsById}from'../../actions/userAction';import{ALL_MESSAGES_ADD,NEW_MESSAGE_RESET}from'../../constants/messageConstants';import{SOCKET_ENDPOINT}from'../../utils/constants';import Sidebar from'./Sidebar';import{io}from'socket.io-client';import Message from'./Message';import{Picker}from'emoji-mart';import SearchModal from'./SearchModal';import SpinLoader from'../Layouts/SpinLoader';import MetaData from'../Layouts/MetaData';import{USER_DETAILS_RESET}from'../../constants/userConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Inbox=function Inbox(){var dispatch=useDispatch();var params=useParams();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),arrivalMessage=_useState4[0],setArrivalMessage=_useState4[1];var scrollRef=useRef(null);var socket=useRef(null);var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),typing=_useState6[0],setTyping=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isTyping=_useState8[0],setIsTyping=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),typingData=_useState10[0],setTypingData=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isOnline=_useState12[0],setIsOnline=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showEmojis=_useState14[0],setShowEmojis=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),showSearch=_useState16[0],setShowSearch=_useState16[1];var _useSelector=useSelector(function(state){return state.user;}),loggedInUser=_useSelector.user;var _useSelector2=useSelector(function(state){return state.userDetails;}),friend=_useSelector2.user;var _useSelector3=useSelector(function(state){return state.allMessages;}),error=_useSelector3.error,messages=_useSelector3.messages,loading=_useSelector3.loading;var _useSelector4=useSelector(function(state){return state.newMessage;}),success=_useSelector4.success,newMessage=_useSelector4.newMessage;var userId=params.userId;useEffect(function(){socket.current=io(SOCKET_ENDPOINT);socket.current.on(\"getMessage\",function(data){setArrivalMessage({sender:data.senderId,content:data.content,createdAt:Date.now()});});socket.current.on(\"typing\",function(senderId){setTypingData({senderId:senderId,typing:true});});socket.current.on(\"typing stop\",function(senderId){setTypingData({senderId:senderId,typing:false});});},[]);useEffect(function(){typingData&&typingData.senderId===userId&&setIsTyping(typingData.typing);},[typingData,userId]);useEffect(function(){arrivalMessage&&arrivalMessage.sender===userId&&dispatch({type:ALL_MESSAGES_ADD,payload:arrivalMessage});// console.log(arrivalMessage);\n},[arrivalMessage,userId]);useEffect(function(){socket.current.emit(\"addUser\",loggedInUser._id);socket.current.on(\"getUsers\",function(users){// console.log(users);\nsetIsOnline(users.some(function(u){return u.userId===userId;}));});},[loggedInUser._id,userId]);useEffect(function(){if(error){toast.error(error);dispatch(clearErrors());}if(params.chatId&&userId){dispatch(getAllMessages(params.chatId));dispatch(getUserDetailsById(userId));}return function(){dispatch({type:USER_DETAILS_RESET});};},[dispatch,error,params.chatId,userId]);useEffect(function(){if(success){dispatch({type:ALL_MESSAGES_ADD,payload:newMessage});dispatch({type:NEW_MESSAGE_RESET});}},[dispatch,success]);var handleSubmit=function handleSubmit(e){var msg=arguments.length>1&&arguments[1]!==undefined?arguments[1]:message;e.preventDefault();socket===null||socket===void 0?void 0:socket.current.emit(\"sendMessage\",{senderId:loggedInUser._id,receiverId:userId,content:msg});var msgData={chatId:params.chatId,content:msg};dispatch(sendMessage(msgData));setMessage(\"\");};useEffect(function(){var _scrollRef$current;(_scrollRef$current=scrollRef.current)===null||_scrollRef$current===void 0?void 0:_scrollRef$current.scrollIntoView({behavior:\"smooth\"});},[messages]);var handleTyping=function handleTyping(e){setMessage(e.target.value);if(!typing){setTyping(true);socket===null||socket===void 0?void 0:socket.current.emit(\"typing\",{senderId:loggedInUser._id,receiverId:userId});}setTimeout(function(){socket===null||socket===void 0?void 0:socket.current.emit(\"typing stop\",{senderId:loggedInUser._id,receiverId:userId});setTyping(false);},2000);};var handleModalClose=function handleModalClose(){setShowSearch(false);};var openModal=function openModal(){setShowSearch(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Instagram \\u2022 Chats\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-14 sm:mt-[4.7rem] pb-4 rounded h-[90vh] xl:w-2/3 mx-auto sm:pr-14 sm:pl-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex border h-full rounded w-full bg-white\",children:[/*#__PURE__*/_jsx(Sidebar,{openModal:openModal}),!userId?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center w-full sm:w-4/6 gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 flex items-center p-2 justify-center border-2 border-black rounded-full\",children:/*#__PURE__*/_jsx(\"img\",{draggable:\"false\",loading:\"lazy\",className:\"w-full h-full rotate-12 object-contain\",src:\"https://static.thenounproject.com/png/172101-200.png\",alt:\"message\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-thin\",children:\"Your Messages\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Send private photos and messages to a friend or group.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:openModal,className:\"bg-primary-blue rounded px-2.5 mt-2 py-1.5 text-white text-sm font-medium hover:drop-shadow-lg\",children:\"Send Message\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-between w-full sm:w-4/6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex py-3 px-6 border-b items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-8 h-8 relative\",children:[/*#__PURE__*/_jsx(\"img\",{draggable:\"false\",loading:\"lazy\",className:\"w-full h-full rounded-full object-cover\",src:friend.avatar,alt:\"avatar\"}),isOnline&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -right-0.5 -bottom-0.5 h-3 w-3 bg-green-500 rounded-full\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium cursor-pointer\",children:friend.name})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"cursor-pointer\",\"aria-label\":\"View Thread Details\",color:\"#262626\",fill:\"#262626\",height:\"24\",role:\"img\",viewBox:\"0 0 24 24\",width:\"24\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12.001\",cy:\"12.005\",fill:\"none\",r:\"10.5\",stroke:\"currentColor\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"11.819\",cy:\"7.709\",r:\"1.25\"}),/*#__PURE__*/_jsx(\"line\",{fill:\"none\",stroke:\"currentColor\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",x1:\"10.569\",x2:\"13.432\",y1:\"16.777\",y2:\"16.777\"}),/*#__PURE__*/_jsx(\"polyline\",{fill:\"none\",points:\"10.569 11.05 12 11.05 12 16.777\",stroke:\"currentColor\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex-1 flex flex-col gap-1.5 overflow-y-auto overflow-x-hidden p-4\",children:[loading?/*#__PURE__*/_jsx(SpinLoader,{}):messages.map(function(m,i){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Message,_objectSpread(_objectSpread({ownMsg:m.sender===loggedInUser._id},friend),m)),/*#__PURE__*/_jsx(\"div\",{ref:scrollRef})]},m._id);}),isTyping&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 max-w-xs\",children:[/*#__PURE__*/_jsx(\"img\",{draggable:\"false\",loading:\"lazy\",className:\"w-7 h-7 rounded-full object-cover\",src:friend.avatar,alt:\"avatar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:\"typing...\"})]}),/*#__PURE__*/_jsx(\"div\",{ref:scrollRef})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flex items-center gap-3 justify-between border rounded-full py-2.5 px-4 m-5 relative\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setShowEmojis(!showEmojis);},className:\"cursor-pointer hover:opacity-60\",children:/*#__PURE__*/_jsx(\"svg\",{\"aria-label\":\"Emoji\",color:\"#262626\",fill:\"#262626\",height:\"24\",role:\"img\",viewBox:\"0 0 24 24\",width:\"24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M15.83 10.997a1.167 1.167 0 101.167 1.167 1.167 1.167 0 00-1.167-1.167zm-6.5 1.167a1.167 1.167 0 10-1.166 1.167 1.167 1.167 0 001.166-1.167zm5.163 3.24a3.406 3.406 0 01-4.982.007 1 1 0 10-1.557 1.256 5.397 5.397 0 008.09 0 1 1 0 00-1.55-1.263zM12 .503a11.5 11.5 0 1011.5 11.5A11.513 11.513 0 0012 .503zm0 21a9.5 9.5 0 119.5-9.5 9.51 9.51 0 01-9.5 9.5z\"})})}),showEmojis&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-14 -left-10\",children:/*#__PURE__*/_jsx(Picker,{set:\"google\",onSelect:function onSelect(e){return setMessage(message+e.native);},title:\"Emojis\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"flex-1 outline-none text-sm\",type:\"text\",placeholder:\"Message...\",value:message,onFocus:function onFocus(){return setShowEmojis(false);},onChange:handleTyping,required:true}),message.trim().length>0?/*#__PURE__*/_jsx(\"button\",{className:\"text-primary-blue font-medium text-sm\",children:\"Send\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"cursor-pointer\",\"aria-label\":\"Add Photo or Video\",color:\"#262626\",fill:\"#262626\",height:\"24\",role:\"img\",viewBox:\"0 0 24 24\",width:\"24\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M6.549 5.013A1.557 1.557 0 108.106 6.57a1.557 1.557 0 00-1.557-1.557z\",fillRule:\"evenodd\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M2 18.605l3.901-3.9a.908.908 0 011.284 0l2.807 2.806a.908.908 0 001.283 0l5.534-5.534a.908.908 0 011.283 0l3.905 3.905\",fill:\"none\",stroke:\"currentColor\",strokeLinejoin:\"round\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M18.44 2.004A3.56 3.56 0 0122 5.564h0v12.873a3.56 3.56 0 01-3.56 3.56H5.568a3.56 3.56 0 01-3.56-3.56V5.563a3.56 3.56 0 013.56-3.56z\",fill:\"none\",stroke:\"currentColor\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\"})]}),/*#__PURE__*/_jsx(\"svg\",{onClick:function onClick(e){return handleSubmit(e,'❤️');},className:\"hover:opacity-70 cursor-pointer\",\"aria-label\":\"Like\",color:\"#262626\",fill:\"#262626\",height:\"24\",role:\"img\",viewBox:\"0 0 24 24\",width:\"24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018 2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z\"})})]})]})]})]}),/*#__PURE__*/_jsx(SearchModal,{open:showSearch,onClose:handleModalClose})]})]});};export default Inbox;","map":{"version":3,"sources":["D:/New folder (4)/instagram-mern-main/backend/frontend/src/components/Chats/Inbox.jsx"],"names":["React","useEffect","useRef","useState","useDispatch","useSelector","useParams","toast","clearErrors","getAllMessages","sendMessage","getUserDetailsById","ALL_MESSAGES_ADD","NEW_MESSAGE_RESET","SOCKET_ENDPOINT","Sidebar","io","Message","Picker","SearchModal","SpinLoader","MetaData","USER_DETAILS_RESET","Inbox","dispatch","params","message","setMessage","arrivalMessage","setArrivalMessage","scrollRef","socket","typing","setTyping","isTyping","setIsTyping","typingData","setTypingData","isOnline","setIsOnline","showEmojis","setShowEmojis","showSearch","setShowSearch","state","user","loggedInUser","userDetails","friend","allMessages","error","messages","loading","newMessage","success","userId","current","on","data","sender","senderId","content","createdAt","Date","now","type","payload","emit","_id","users","some","u","chatId","handleSubmit","e","msg","preventDefault","receiverId","msgData","scrollIntoView","behavior","handleTyping","target","value","setTimeout","handleModalClose","openModal","avatar","name","map","m","i","native","trim","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { clearErrors, getAllMessages, sendMessage } from '../../actions/messageAction';\nimport { getUserDetailsById } from '../../actions/userAction';\nimport { ALL_MESSAGES_ADD, NEW_MESSAGE_RESET } from '../../constants/messageConstants';\nimport { SOCKET_ENDPOINT } from '../../utils/constants';\nimport Sidebar from './Sidebar';\nimport { io } from 'socket.io-client';\nimport Message from './Message';\nimport { Picker } from 'emoji-mart'\nimport SearchModal from './SearchModal';\nimport SpinLoader from '../Layouts/SpinLoader';\nimport MetaData from '../Layouts/MetaData';\nimport { USER_DETAILS_RESET } from '../../constants/userConstants';\n\nconst Inbox = () => {\n\n    const dispatch = useDispatch();\n    const params = useParams();\n\n    const [message, setMessage] = useState(\"\");\n    const [arrivalMessage, setArrivalMessage] = useState(null);\n    const scrollRef = useRef(null);\n    const socket = useRef(null);\n\n    const [typing, setTyping] = useState(false);\n    const [isTyping, setIsTyping] = useState(false);\n    const [typingData, setTypingData] = useState({});\n\n    const [isOnline, setIsOnline] = useState(false);\n    const [showEmojis, setShowEmojis] = useState(false);\n\n    const [showSearch, setShowSearch] = useState(false);\n\n    const { user: loggedInUser } = useSelector((state) => state.user)\n    const { user: friend } = useSelector((state) => state.userDetails);\n    const { error, messages, loading } = useSelector((state) => state.allMessages)\n    const { success, newMessage } = useSelector((state) => state.newMessage);\n\n    const userId = params.userId;\n\n    useEffect(() => {\n        socket.current = io(SOCKET_ENDPOINT);\n        socket.current.on(\"getMessage\", (data) => {\n            setArrivalMessage({\n                sender: data.senderId,\n                content: data.content,\n                createdAt: Date.now(),\n            });\n        });\n        socket.current.on(\"typing\", (senderId) => {\n            setTypingData({ senderId, typing: true })\n        });\n        socket.current.on(\"typing stop\", (senderId) => {\n            setTypingData({ senderId, typing: false })\n        });\n    }, []);\n\n    useEffect(() => {\n        typingData && typingData.senderId === userId &&\n            setIsTyping(typingData.typing)\n    }, [typingData, userId])\n\n\n    useEffect(() => {\n        arrivalMessage && arrivalMessage.sender === userId &&\n            dispatch({\n                type: ALL_MESSAGES_ADD,\n                payload: arrivalMessage\n            });\n        // console.log(arrivalMessage);\n    }, [arrivalMessage, userId])\n\n\n    useEffect(() => {\n        socket.current.emit(\"addUser\", loggedInUser._id);\n        socket.current.on(\"getUsers\", users => {\n            // console.log(users);\n            setIsOnline(users.some((u) => u.userId === userId));\n        })\n    }, [loggedInUser._id, userId])\n\n    useEffect(() => {\n        if (error) {\n            toast.error(error);\n            dispatch(clearErrors());\n        }\n        if (params.chatId && userId) {\n            dispatch(getAllMessages(params.chatId));\n            dispatch(getUserDetailsById(userId));\n        }\n\n        return () => {\n            dispatch({ type: USER_DETAILS_RESET })\n        }\n\n    }, [dispatch, error, params.chatId, userId]);\n\n    useEffect(() => {\n        if (success) {\n            dispatch({\n                type: ALL_MESSAGES_ADD,\n                payload: newMessage\n            })\n            dispatch({ type: NEW_MESSAGE_RESET });\n        }\n    }, [dispatch, success])\n\n\n    const handleSubmit = (e, msg = message) => {\n        e.preventDefault();\n\n        socket?.current.emit(\"sendMessage\", {\n            senderId: loggedInUser._id,\n            receiverId: userId,\n            content: msg,\n        });\n\n        const msgData = {\n            chatId: params.chatId,\n            content: msg\n        }\n\n        dispatch(sendMessage(msgData));\n        setMessage(\"\");\n    }\n\n    useEffect(() => {\n        scrollRef.current?.scrollIntoView({ behavior: \"smooth\" })\n    }, [messages]);\n\n    const handleTyping = (e) => {\n        setMessage(e.target.value);\n\n        if (!typing) {\n            setTyping(true);\n            socket?.current.emit(\"typing\", {\n                senderId: loggedInUser._id,\n                receiverId: userId\n            });\n        }\n\n        setTimeout(() => {\n            socket?.current.emit(\"typing stop\", {\n                senderId: loggedInUser._id,\n                receiverId: userId\n            });\n            setTyping(false);\n        }, 2000);\n    }\n\n    const handleModalClose = () => {\n        setShowSearch(false);\n    }\n\n    const openModal = () => {\n        setShowSearch(true);\n    }\n\n    return (\n        <>\n            <MetaData title=\"Instagram • Chats\" />\n\n            <div className=\"mt-14 sm:mt-[4.7rem] pb-4 rounded h-[90vh] xl:w-2/3 mx-auto sm:pr-14 sm:pl-8\">\n                <div className=\"flex border h-full rounded w-full bg-white\">\n\n                    {/* sidebar */}\n                    <Sidebar openModal={openModal} />\n\n                    {!userId ?\n                        <div className=\"flex flex-col items-center justify-center w-full sm:w-4/6 gap-2\">\n                            <div className=\"w-24 h-24 flex items-center p-2 justify-center border-2 border-black rounded-full\">\n                                <img draggable=\"false\" loading=\"lazy\" className=\"w-full h-full rotate-12 object-contain\" src=\"https://static.thenounproject.com/png/172101-200.png\" alt=\"message\" />\n                            </div>\n                            <h2 className=\"text-2xl font-thin\">Your Messages</h2>\n                            <p className=\"text-gray-400 text-sm\">Send private photos and messages to a friend or group.</p>\n                            <button onClick={openModal} className=\"bg-primary-blue rounded px-2.5 mt-2 py-1.5 text-white text-sm font-medium hover:drop-shadow-lg\">Send Message</button>\n                        </div>\n                        :\n                        <div className=\"flex flex-col justify-between w-full sm:w-4/6\">\n\n                            {/* header */}\n                            <div className=\"flex py-3 px-6 border-b items-center justify-between\">\n                                <div className=\"flex gap-2 items-center\">\n                                    <div className=\"w-8 h-8 relative\">\n                                        <img draggable=\"false\" loading=\"lazy\" className=\"w-full h-full rounded-full object-cover\" src={friend.avatar} alt=\"avatar\" />\n                                        {isOnline && <div className=\"absolute -right-0.5 -bottom-0.5 h-3 w-3 bg-green-500 rounded-full\"></div>}\n                                    </div>\n                                    <span className=\"font-medium cursor-pointer\">{friend.name}</span>\n                                </div>\n                                <svg className=\"cursor-pointer\" aria-label=\"View Thread Details\" color=\"#262626\" fill=\"#262626\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><circle cx=\"12.001\" cy=\"12.005\" fill=\"none\" r=\"10.5\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\"></circle><circle cx=\"11.819\" cy=\"7.709\" r=\"1.25\"></circle><line fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" x1=\"10.569\" x2=\"13.432\" y1=\"16.777\" y2=\"16.777\"></line><polyline fill=\"none\" points=\"10.569 11.05 12 11.05 12 16.777\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\"></polyline></svg>\n                            </div>\n\n                            {/* messages */}\n                            <div className=\"w-full flex-1 flex flex-col gap-1.5 overflow-y-auto overflow-x-hidden p-4\">\n                                {loading ? <SpinLoader /> :\n                                    messages.map((m, i) => (\n                                        <React.Fragment key={m._id}>\n                                            <Message ownMsg={m.sender === loggedInUser._id} {...friend} {...m} />\n                                            <div ref={scrollRef}></div>\n                                        </React.Fragment>\n                                    ))\n                                }\n                                {isTyping &&\n                                    <>\n                                        <div className=\"flex items-center gap-3 max-w-xs\">\n                                            <img draggable=\"false\" loading=\"lazy\" className=\"w-7 h-7 rounded-full object-cover\" src={friend.avatar} alt=\"avatar\" />\n                                            <span className=\"text-sm text-gray-500\">typing...</span>\n                                        </div>\n                                        <div ref={scrollRef}></div>\n                                    </>\n                                }\n                            </div>\n\n                            {/* message input */}\n                            <form onSubmit={handleSubmit} className=\"flex items-center gap-3 justify-between border rounded-full py-2.5 px-4 m-5 relative\">\n                                <span onClick={() => setShowEmojis(!showEmojis)} className=\"cursor-pointer hover:opacity-60\">\n                                    <svg aria-label=\"Emoji\" color=\"#262626\" fill=\"#262626\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M15.83 10.997a1.167 1.167 0 101.167 1.167 1.167 1.167 0 00-1.167-1.167zm-6.5 1.167a1.167 1.167 0 10-1.166 1.167 1.167 1.167 0 001.166-1.167zm5.163 3.24a3.406 3.406 0 01-4.982.007 1 1 0 10-1.557 1.256 5.397 5.397 0 008.09 0 1 1 0 00-1.55-1.263zM12 .503a11.5 11.5 0 1011.5 11.5A11.513 11.513 0 0012 .503zm0 21a9.5 9.5 0 119.5-9.5 9.51 9.51 0 01-9.5 9.5z\"></path></svg>\n                                </span>\n\n                                {showEmojis && (\n                                    <div className=\"absolute bottom-14 -left-10\">\n                                        <Picker\n                                            set=\"google\"\n                                            onSelect={(e) => setMessage(message + e.native)}\n                                            title=\"Emojis\"\n                                        />\n                                    </div>\n                                )}\n\n                                <input\n                                    className=\"flex-1 outline-none text-sm\"\n                                    type=\"text\"\n                                    placeholder=\"Message...\"\n                                    value={message}\n                                    onFocus={() => setShowEmojis(false)}\n                                    onChange={handleTyping}\n                                    required\n                                />\n                                {message.trim().length > 0 ?\n                                    <button className=\"text-primary-blue font-medium text-sm\">Send</button>\n                                    :\n                                    <>\n                                        <svg className=\"cursor-pointer\" aria-label=\"Add Photo or Video\" color=\"#262626\" fill=\"#262626\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M6.549 5.013A1.557 1.557 0 108.106 6.57a1.557 1.557 0 00-1.557-1.557z\" fillRule=\"evenodd\"></path><path d=\"M2 18.605l3.901-3.9a.908.908 0 011.284 0l2.807 2.806a.908.908 0 001.283 0l5.534-5.534a.908.908 0 011.283 0l3.905 3.905\" fill=\"none\" stroke=\"currentColor\" strokeLinejoin=\"round\" strokeWidth=\"2\"></path><path d=\"M18.44 2.004A3.56 3.56 0 0122 5.564h0v12.873a3.56 3.56 0 01-3.56 3.56H5.568a3.56 3.56 0 01-3.56-3.56V5.563a3.56 3.56 0 013.56-3.56z\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\"></path></svg>\n                                        <svg onClick={(e) => handleSubmit(e, '❤️')} className=\"hover:opacity-70 cursor-pointer\" aria-label=\"Like\" color=\"#262626\" fill=\"#262626\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018 2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z\"></path></svg>\n                                    </>\n                                }\n                            </form>\n\n                        </div>\n\n                    }\n                </div>\n\n                <SearchModal open={showSearch} onClose={handleModalClose} />\n\n            </div>\n        </>\n    )\n}\n\nexport default Inbox"]},"metadata":{},"sourceType":"module"}