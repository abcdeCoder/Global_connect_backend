{"ast":null,"code":"import _asyncToGenerator from\"D:/New folder (4)/instagram-mern-main/backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\New folder (4)\\\\instagram-mern-main\\\\backend\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{CLEAR_ERRORS,DELETE_POST_FAIL,DELETE_POST_REQUEST,DELETE_POST_SUCCESS,LIKE_UNLIKE_POST_FAIL,LIKE_UNLIKE_POST_REQUEST,LIKE_UNLIKE_POST_SUCCESS,NEW_COMMENT_FAIL,NEW_COMMENT_REQUEST,NEW_COMMENT_SUCCESS,NEW_POST_FAIL,NEW_POST_REQUEST,NEW_POST_SUCCESS,POST_DETAILS_FAIL,POST_DETAILS_REQUEST,POST_DETAILS_SUCCESS,POST_FOLLOWING_FAIL,POST_FOLLOWING_REQUEST,POST_FOLLOWING_SUCCESS,SAVE_UNSAVE_POST_FAIL,SAVE_UNSAVE_POST_REQUEST,SAVE_UNSAVE_POST_SUCCESS}from\"../constants/postConstants\";// New Post\nexport var addNewPost=function addNewPost(postData){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:NEW_POST_REQUEST});config={header:{\"Content-Type\":\"application/json\"}};_context.next=5;return axios.post(\"/api/v1/post/new\",postData,config);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:NEW_POST_SUCCESS,payload:data});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);dispatch({type:NEW_POST_FAIL,payload:_context.t0.response.data.message});case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// Get Post of Followings\nexport var getPostsOfFollowing=function getPostsOfFollowing(){var page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:try{dispatch({type:POST_FOLLOWING_REQUEST});setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"/api/v1/posts?page=\".concat(page));case 2:_yield$axios$get=_context2.sent;data=_yield$axios$get.data;dispatch({type:POST_FOLLOWING_SUCCESS,payload:data});case 5:case\"end\":return _context2.stop();}}},_callee2);})),300);}catch(error){dispatch({type:POST_FOLLOWING_FAIL,payload:error.response.data.message});}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// Like | Unlike Post\nexport var likePost=function likePost(postId){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var _yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:LIKE_UNLIKE_POST_REQUEST});_context4.next=4;return axios.get(\"/api/v1/post/\".concat(postId));case 4:_yield$axios$get2=_context4.sent;data=_yield$axios$get2.data;dispatch({type:LIKE_UNLIKE_POST_SUCCESS,payload:data});_context4.next=12;break;case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](0);dispatch({type:LIKE_UNLIKE_POST_FAIL,payload:_context4.t0.response.data.message});case 12:case\"end\":return _context4.stop();}}},_callee4,null,[[0,9]]);}));return function(_x3){return _ref4.apply(this,arguments);};}();};// Add Comment\nexport var addComment=function addComment(postId,comment){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var config,_yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;dispatch({type:NEW_COMMENT_REQUEST});config={header:{\"Content-Type\":\"application/json\"}};_context5.next=5;return axios.post(\"/api/v1/post/comment/\".concat(postId),{comment:comment},config);case 5:_yield$axios$post2=_context5.sent;data=_yield$axios$post2.data;dispatch({type:NEW_COMMENT_SUCCESS,payload:data.success});_context5.next=13;break;case 10:_context5.prev=10;_context5.t0=_context5[\"catch\"](0);dispatch({type:NEW_COMMENT_FAIL,payload:_context5.t0.response.data.message});case 13:case\"end\":return _context5.stop();}}},_callee5,null,[[0,10]]);}));return function(_x4){return _ref5.apply(this,arguments);};}();};// Save | Unsave Post\nexport var savePost=function savePost(postId){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var _yield$axios$post3,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;dispatch({type:SAVE_UNSAVE_POST_REQUEST});_context6.next=4;return axios.post(\"/api/v1/post/\".concat(postId));case 4:_yield$axios$post3=_context6.sent;data=_yield$axios$post3.data;dispatch({type:SAVE_UNSAVE_POST_SUCCESS,payload:data});_context6.next=12;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](0);dispatch({type:SAVE_UNSAVE_POST_FAIL,payload:_context6.t0.response.data.message});case 12:case\"end\":return _context6.stop();}}},_callee6,null,[[0,9]]);}));return function(_x5){return _ref6.apply(this,arguments);};}();};// Delete Post\nexport var deletePost=function deletePost(postId){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var _yield$axios$delete,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;dispatch({type:DELETE_POST_REQUEST});_context7.next=4;return axios.delete(\"/api/v1/post/\".concat(postId));case 4:_yield$axios$delete=_context7.sent;data=_yield$axios$delete.data;dispatch({type:DELETE_POST_SUCCESS,payload:data.success});_context7.next=12;break;case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](0);dispatch({type:DELETE_POST_FAIL,payload:_context7.t0.response.data.message});case 12:case\"end\":return _context7.stop();}}},_callee7,null,[[0,9]]);}));return function(_x6){return _ref7.apply(this,arguments);};}();};// Get Post Details\nexport var getPostDetails=function getPostDetails(postId){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var _yield$axios$get3,data;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;dispatch({type:POST_DETAILS_REQUEST});_context8.next=4;return axios.get(\"/api/v1/post/detail/\".concat(postId));case 4:_yield$axios$get3=_context8.sent;data=_yield$axios$get3.data;dispatch({type:POST_DETAILS_SUCCESS,payload:data});_context8.next=12;break;case 9:_context8.prev=9;_context8.t0=_context8[\"catch\"](0);dispatch({type:POST_DETAILS_FAIL,payload:_context8.t0.response.data.message});case 12:case\"end\":return _context8.stop();}}},_callee8,null,[[0,9]]);}));return function(_x7){return _ref8.apply(this,arguments);};}();};// Clear All Errors\nexport var clearErrors=function clearErrors(){return function(dispatch){dispatch({type:CLEAR_ERRORS});};};","map":{"version":3,"sources":["D:/New folder (4)/instagram-mern-main/backend/frontend/src/actions/postAction.js"],"names":["axios","CLEAR_ERRORS","DELETE_POST_FAIL","DELETE_POST_REQUEST","DELETE_POST_SUCCESS","LIKE_UNLIKE_POST_FAIL","LIKE_UNLIKE_POST_REQUEST","LIKE_UNLIKE_POST_SUCCESS","NEW_COMMENT_FAIL","NEW_COMMENT_REQUEST","NEW_COMMENT_SUCCESS","NEW_POST_FAIL","NEW_POST_REQUEST","NEW_POST_SUCCESS","POST_DETAILS_FAIL","POST_DETAILS_REQUEST","POST_DETAILS_SUCCESS","POST_FOLLOWING_FAIL","POST_FOLLOWING_REQUEST","POST_FOLLOWING_SUCCESS","SAVE_UNSAVE_POST_FAIL","SAVE_UNSAVE_POST_REQUEST","SAVE_UNSAVE_POST_SUCCESS","addNewPost","postData","dispatch","type","config","header","post","data","payload","response","message","getPostsOfFollowing","page","setTimeout","get","error","likePost","postId","addComment","comment","success","savePost","deletePost","delete","getPostDetails","clearErrors"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { CLEAR_ERRORS, DELETE_POST_FAIL, DELETE_POST_REQUEST, DELETE_POST_SUCCESS, LIKE_UNLIKE_POST_FAIL, LIKE_UNLIKE_POST_REQUEST, LIKE_UNLIKE_POST_SUCCESS, NEW_COMMENT_FAIL, NEW_COMMENT_REQUEST, NEW_COMMENT_SUCCESS, NEW_POST_FAIL, NEW_POST_REQUEST, NEW_POST_SUCCESS, POST_DETAILS_FAIL, POST_DETAILS_REQUEST, POST_DETAILS_SUCCESS, POST_FOLLOWING_FAIL, POST_FOLLOWING_REQUEST, POST_FOLLOWING_SUCCESS, SAVE_UNSAVE_POST_FAIL, SAVE_UNSAVE_POST_REQUEST, SAVE_UNSAVE_POST_SUCCESS } from \"../constants/postConstants\";\n\n\n// New Post\nexport const addNewPost = (postData) => async (dispatch) => {\n    try {\n\n        dispatch({ type: NEW_POST_REQUEST });\n        const config = { header: { \"Content-Type\": \"application/json\" } }\n        const { data } = await axios.post(\"/api/v1/post/new\", postData, config);\n\n        dispatch({\n            type: NEW_POST_SUCCESS,\n            payload: data,\n        });\n\n    } catch (error) {\n        dispatch({\n            type: NEW_POST_FAIL,\n            payload: error.response.data.message,\n        });\n    }\n}\n\n// Get Post of Followings\nexport const getPostsOfFollowing = (page = 1) => async (dispatch) => {\n    try {\n\n        dispatch({ type: POST_FOLLOWING_REQUEST });\n\n        setTimeout(async () => {\n\n            const { data } = await axios.get(`/api/v1/posts?page=${page}`);\n\n            dispatch({\n                type: POST_FOLLOWING_SUCCESS,\n                payload: data,\n            });\n\n        }, 300);\n\n    } catch (error) {\n        dispatch({\n            type: POST_FOLLOWING_FAIL,\n            payload: error.response.data.message,\n        });\n    }\n};\n\n// Like | Unlike Post\nexport const likePost = (postId) => async (dispatch) => {\n    try {\n\n        dispatch({ type: LIKE_UNLIKE_POST_REQUEST });\n        const { data } = await axios.get(`/api/v1/post/${postId}`);\n\n        dispatch({\n            type: LIKE_UNLIKE_POST_SUCCESS,\n            payload: data,\n        });\n\n    } catch (error) {\n        dispatch({\n            type: LIKE_UNLIKE_POST_FAIL,\n            payload: error.response.data.message,\n        });\n    }\n};\n\n// Add Comment\nexport const addComment = (postId, comment) => async (dispatch) => {\n    try {\n\n        dispatch({ type: NEW_COMMENT_REQUEST });\n        const config = { header: { \"Content-Type\": \"application/json\" } }\n        const { data } = await axios.post(`/api/v1/post/comment/${postId}`, { comment }, config);\n\n        dispatch({\n            type: NEW_COMMENT_SUCCESS,\n            payload: data.success,\n        });\n\n    } catch (error) {\n        dispatch({\n            type: NEW_COMMENT_FAIL,\n            payload: error.response.data.message,\n        });\n    }\n}\n\n// Save | Unsave Post\nexport const savePost = (postId) => async (dispatch) => {\n    try {\n\n        dispatch({ type: SAVE_UNSAVE_POST_REQUEST });\n        const { data } = await axios.post(`/api/v1/post/${postId}`);\n\n        dispatch({\n            type: SAVE_UNSAVE_POST_SUCCESS,\n            payload: data,\n        });\n\n    } catch (error) {\n        dispatch({\n            type: SAVE_UNSAVE_POST_FAIL,\n            payload: error.response.data.message,\n        });\n    }\n};\n\n// Delete Post\nexport const deletePost = (postId) => async (dispatch) => {\n    try {\n\n        dispatch({ type: DELETE_POST_REQUEST });\n        const { data } = await axios.delete(`/api/v1/post/${postId}`);\n\n        dispatch({\n            type: DELETE_POST_SUCCESS,\n            payload: data.success,\n        });\n\n    } catch (error) {\n        dispatch({\n            type: DELETE_POST_FAIL,\n            payload: error.response.data.message,\n        });\n    }\n};\n\n// Get Post Details\nexport const getPostDetails = (postId) => async (dispatch) => {\n    try {\n\n        dispatch({ type: POST_DETAILS_REQUEST });\n        const { data } = await axios.get(`/api/v1/post/detail/${postId}`);\n\n        dispatch({\n            type: POST_DETAILS_SUCCESS,\n            payload: data,\n        });\n\n    } catch (error) {\n        dispatch({\n            type: POST_DETAILS_FAIL,\n            payload: error.response.data.message,\n        });\n    }\n};\n\n// Clear All Errors\nexport const clearErrors = () => (dispatch) => {\n    dispatch({ type: CLEAR_ERRORS });\n}"]},"metadata":{},"sourceType":"module"}