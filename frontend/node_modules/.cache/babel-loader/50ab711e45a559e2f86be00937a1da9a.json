{"ast":null,"code":"import _slicedToArray from\"D:/New folder (4)/instagram-mern-main/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Dialog,LinearProgress}from'@mui/material';import{Picker}from'emoji-mart';import React,{useEffect,useRef,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{addNewPost,clearErrors}from'../../actions/postAction';import{NEW_POST_RESET}from'../../constants/postConstants';import{emojiIcon}from'../Home/SvgIcons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewPost=function NewPost(_ref){var newPost=_ref.newPost,setNewPost=_ref.setNewPost;var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.newPost;}),loading=_useSelector.loading,success=_useSelector.success,error=_useSelector.error;var _useSelector2=useSelector(function(state){return state.user;}),user=_useSelector2.user;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),postImage=_useState2[0],setPostImage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),postPreview=_useState4[0],setPostPreview=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),caption=_useState6[0],setCaption=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showEmojis=_useState8[0],setShowEmojis=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),dragged=_useState10[0],setDragged=_useState10[1];var handleDragChange=function handleDragChange(){setDragged(!dragged);};var handleFileChange=function handleFileChange(e){var reader=new FileReader();setPostImage(\"\");setPostPreview(\"\");reader.onload=function(){if(reader.readyState===2){setPostPreview(reader.result);}};reader.readAsDataURL(e.target.files[0]);setPostImage(e.target.files[0]);};var newPostSubmitHandler=function newPostSubmitHandler(e){e.preventDefault();if(!postImage){toast.error(\"Select Image\");return;}if(!caption.trim()){toast.error(\"Empty Caption\");return;}var formData=new FormData();formData.set(\"caption\",caption);formData.set(\"post\",postImage);dispatch(addNewPost(formData));};useEffect(function(){if(error){toast.error(error);dispatch(clearErrors());}if(success){toast.success(\"Post Shared\");dispatch({type:NEW_POST_RESET});setNewPost(false);navigate(\"/\");setPostImage(\"\");setPostPreview(\"\");setCaption(\"\");}},[dispatch,error,success,navigate]);return/*#__PURE__*/_jsx(Dialog,{open:newPost,onClose:function onClose(){return setNewPost(false);},maxWidth:\"xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:w-screen max-w-4xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white py-3 border-b px-4 flex justify-between w-full\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Create new post\"}),/*#__PURE__*/_jsx(\"button\",{onClick:newPostSubmitHandler,disabled:loading,className:\"text-blue-500 font-medium\",children:\"Share\"})]}),loading&&/*#__PURE__*/_jsx(LinearProgress,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex sm:flex-row sm:items-start items-center flex-col w-full\",children:[postImage?/*#__PURE__*/_jsx(\"div\",{className:\"bg-black h-48 sm:h-[80vh] w-full\",children:/*#__PURE__*/_jsx(\"img\",{draggable:\"false\",className:\"object-contain h-full w-full\",src:postPreview,alt:\"post\"})}):/*#__PURE__*/_jsxs(\"div\",{onDragEnter:handleDragChange,onDragLeave:handleDragChange,className:\"\".concat(dragged&&'opacity-40',\" relative bg-white h-36 sm:h-[80vh] w-full flex flex-col gap-2 items-center justify-center mx-16\"),children:[/*#__PURE__*/_jsxs(\"svg\",{\"aria-label\":\"Icon to represent media such as images or videos\",color:\"#262626\",fill:\"#262626\",height:\"77\",role:\"img\",viewBox:\"0 0 97.6 77.3\",width:\"96\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z\",fill:\"currentColor\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M84.7 18.4L58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5l-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z\",fill:\"currentColor\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M78.2 41.6L61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6l-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z\",fill:\"currentColor\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl\",children:\"Drag photos and videos here\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleFileChange,className:\"absolute h-full w-full opacity-0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col border-l sm:h-[80vh] w-full bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 px-3 py-2 items-center\",children:[/*#__PURE__*/_jsx(\"img\",{draggable:\"false\",className:\"w-11 h-11 rounded-full object-cover\",src:user.avatar,alt:\"avatar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-black text-sm font-semibold\",children:user.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 w-full border-b relative\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleFileChange,className:\"block w-full text-sm text-slate-500 file:mr-3 file:py-2 file:px-6 file:rounded-full file:border-0 file:text-sm file:cursor-pointer file:font-semibold file:bg-purple-100 file:text-purple-700 hover:file:bg-purple-200 \"})}),/*#__PURE__*/_jsx(\"textarea\",{className:\"outline-none resize-none h-32 sm:h-auto\",placeholder:\"Write a caption...\",name:\"caption\",cols:\"40\",rows:\"12\",value:caption,onChange:function onChange(e){return setCaption(e.target.value);},onClick:function onClick(){return setShowEmojis(false);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setShowEmojis(!showEmojis);},className:\"cursor-pointer\",children:emojiIcon}),showEmojis&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-10 -left-20\",children:/*#__PURE__*/_jsx(Picker,{set:\"google\",onSelect:function onSelect(e){return setCaption(caption+e.native);},title:\"Emojis\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:newPostSubmitHandler,disabled:loading,className:\"bg-primary-blue text-white px-6 py-1.5 rounded font-medium hover:drop-shadow-lg uppercase text-sm tracking-wider\",children:\"Post\"})]})]})]})]})]})});};export default NewPost;","map":{"version":3,"sources":["D:/New folder (4)/instagram-mern-main/backend/frontend/src/components/Navbar/NewPost.jsx"],"names":["Dialog","LinearProgress","Picker","React","useEffect","useRef","useState","useDispatch","useSelector","useNavigate","toast","addNewPost","clearErrors","NEW_POST_RESET","emojiIcon","NewPost","newPost","setNewPost","dispatch","navigate","state","loading","success","error","user","postImage","setPostImage","postPreview","setPostPreview","caption","setCaption","showEmojis","setShowEmojis","dragged","setDragged","handleDragChange","handleFileChange","e","reader","FileReader","onload","readyState","result","readAsDataURL","target","files","newPostSubmitHandler","preventDefault","trim","formData","FormData","set","type","avatar","username","value","native"],"mappings":"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","sourcesContent":["import { Dialog, LinearProgress } from '@mui/material'\nimport { Picker } from 'emoji-mart';\nimport React, { useEffect, useRef, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { addNewPost, clearErrors } from '../../actions/postAction';\nimport { NEW_POST_RESET } from '../../constants/postConstants';\nimport { emojiIcon } from '../Home/SvgIcons';\n\nconst NewPost = ({ newPost, setNewPost }) => {\n\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const { loading, success, error } = useSelector((state) => state.newPost);\n    const { user } = useSelector((state) => state.user);\n\n    const [postImage, setPostImage] = useState(\"\");\n    const [postPreview, setPostPreview] = useState(\"\");\n    const [caption, setCaption] = useState(\"\");\n    const [showEmojis, setShowEmojis] = useState(false);\n    const [dragged, setDragged] = useState(false);\n\n    const handleDragChange = () => {\n        setDragged(!dragged);\n    }\n\n    const handleFileChange = (e) => {\n        const reader = new FileReader();\n        setPostImage(\"\");\n        setPostPreview(\"\")\n        reader.onload = () => {\n            if (reader.readyState === 2) {\n                setPostPreview(reader.result);\n            }\n        };\n\n        reader.readAsDataURL(e.target.files[0]);\n        setPostImage(e.target.files[0]);\n    }\n\n    const newPostSubmitHandler = (e) => {\n        e.preventDefault();\n        if (!postImage) {\n            toast.error(\"Select Image\");\n            return\n        }\n        if (!caption.trim()) {\n            toast.error(\"Empty Caption\");\n            return\n        }\n\n        const formData = new FormData();\n\n        formData.set(\"caption\", caption);\n        formData.set(\"post\", postImage);\n\n        dispatch(addNewPost(formData));\n    }\n\n    useEffect(() => {\n        if (error) {\n            toast.error(error);\n            dispatch(clearErrors());\n        }\n        if (success) {\n            toast.success(\"Post Shared\");\n            dispatch({ type: NEW_POST_RESET });\n            setNewPost(false)\n            navigate(\"/\");\n\n            setPostImage(\"\");\n            setPostPreview(\"\");\n            setCaption(\"\");\n        }\n    }, [dispatch, error, success, navigate]);\n\n    return (\n        <Dialog open={newPost} onClose={() => setNewPost(false)} maxWidth='xl'>\n            <div className=\"flex flex-col sm:w-screen max-w-4xl\">\n                <div className=\"bg-white py-3 border-b px-4 flex justify-between w-full\">\n                    <span className=\"font-medium\">Create new post</span>\n                    <button onClick={newPostSubmitHandler} disabled={loading} className=\"text-blue-500 font-medium\">Share</button>\n                </div>\n                {loading && <LinearProgress />}\n\n                <div className=\"flex sm:flex-row sm:items-start items-center flex-col w-full\">\n\n                    {postImage ?\n                        <div className=\"bg-black h-48 sm:h-[80vh] w-full\">\n                            <img draggable=\"false\" className=\"object-contain h-full w-full\" src={postPreview} alt=\"post\" />\n                        </div>\n                        :\n                        <div onDragEnter={handleDragChange} onDragLeave={handleDragChange} className={`${dragged && 'opacity-40'} relative bg-white h-36 sm:h-[80vh] w-full flex flex-col gap-2 items-center justify-center mx-16`}>\n                            <svg aria-label=\"Icon to represent media such as images or videos\" color=\"#262626\" fill=\"#262626\" height=\"77\" role=\"img\" viewBox=\"0 0 97.6 77.3\" width=\"96\"><path d=\"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z\" fill=\"currentColor\"></path><path d=\"M84.7 18.4L58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5l-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z\" fill=\"currentColor\"></path><path d=\"M78.2 41.6L61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6l-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z\" fill=\"currentColor\"></path></svg>\n                            <p className=\"text-xl\">Drag photos and videos here</p>\n                            <input\n                                type=\"file\"\n                                accept=\"image/*\"\n                                onChange={handleFileChange}\n                                className=\"absolute h-full w-full opacity-0\" />\n                        </div>\n                    }\n\n                    <div className=\"flex flex-col border-l sm:h-[80vh] w-full bg-white\">\n\n                        <div className=\"flex gap-3 px-3 py-2 items-center\">\n                            <img draggable=\"false\" className=\"w-11 h-11 rounded-full object-cover\" src={user.avatar} alt=\"avatar\" />\n                            <span className=\"text-black text-sm font-semibold\">{user.username}</span>\n                        </div>\n\n\n                        <div className=\"p-3 w-full border-b relative\">\n                            <label className=\"block mb-4\">\n                                <input\n                                    type=\"file\"\n                                    accept=\"image/*\"\n                                    onChange={handleFileChange}\n                                    className=\"block w-full text-sm text-slate-500\n                                    file:mr-3 file:py-2 file:px-6\n                                    file:rounded-full file:border-0\n                                    file:text-sm file:cursor-pointer file:font-semibold\n                                    file:bg-purple-100 file:text-purple-700\n                                    hover:file:bg-purple-200\n                                    \"/>\n                            </label>\n                            <textarea\n                                className=\"outline-none resize-none h-32 sm:h-auto\"\n                                placeholder=\"Write a caption...\"\n                                name=\"caption\"\n                                cols=\"40\"\n                                rows=\"12\"\n                                value={caption}\n                                onChange={(e) => setCaption(e.target.value)}\n                                onClick={() => setShowEmojis(false)}\n                            >\n                            </textarea>\n\n                            <div className=\"flex items-center justify-between\">\n\n                                <span onClick={() => setShowEmojis(!showEmojis)} className=\"cursor-pointer\">{emojiIcon}</span>\n\n                                {showEmojis && (\n                                    <div className=\"absolute bottom-10 -left-20\">\n                                        <Picker\n                                            set=\"google\"\n                                            onSelect={(e) => setCaption(caption + e.native)}\n                                            title=\"Emojis\"\n                                        />\n                                    </div>\n                                )}\n\n                                <button onClick={newPostSubmitHandler} disabled={loading} className=\"bg-primary-blue text-white px-6 py-1.5 rounded font-medium hover:drop-shadow-lg uppercase text-sm tracking-wider\">Post</button>\n\n                            </div>\n\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n\n        </Dialog>\n    )\n}\n\nexport default NewPost"]},"metadata":{},"sourceType":"module"}