{"ast":null,"code":"import _objectSpread from\"D:/New folder (4)/instagram-mern-main/backend/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Link,useParams}from'react-router-dom';import{toast}from'react-toastify';import{clearErrors,getAllChats}from'../../actions/chatAction';import ChatListItem from'./ChatListItem';import SkeletonUserItem from'../Layouts/SkeletonUserItem';import{Skeleton}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{createElement as _createElement}from\"react\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Sidebar=function Sidebar(_ref){var openModal=_ref.openModal,socket=_ref.socket;var dispatch=useDispatch();var params=useParams();var _useSelector=useSelector(function(state){return state.user;}),user=_useSelector.user;var _useSelector2=useSelector(function(state){return state.allChats;}),loading=_useSelector2.loading,error=_useSelector2.error,chats=_useSelector2.chats;useEffect(function(){if(error){toast.error(error);dispatch(clearErrors());}dispatch(getAllChats());},[dispatch,error,params.chatId]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:flex flex-col h-full w-2/6 border-r\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between border-b p-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mx-auto font-medium cursor-pointer\",children:user.username}),/*#__PURE__*/_jsxs(\"svg\",{onClick:openModal,className:\"cursor-pointer\",\"aria-label\":\"New Message\",color:\"#262626\",fill:\"#262626\",height:\"24\",role:\"img\",viewBox:\"0 0 24 24\",width:\"24\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12.202 3.203H5.25a3 3 0 00-3 3V18.75a3 3 0 003 3h12.547a3 3 0 003-3v-6.952\",fill:\"none\",stroke:\"currentColor\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M10.002 17.226H6.774v-3.228L18.607 2.165a1.417 1.417 0 012.004 0l1.224 1.225a1.417 1.417 0 010 2.004z\",fill:\"none\",stroke:\"currentColor\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"line\",{fill:\"none\",stroke:\"currentColor\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",x1:\"16.848\",x2:\"20.076\",y1:\"3.924\",y2:\"7.153\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col overflow-y-auto overflow-x-hidden\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-4 py-2 font-medium\",children:\"Messages\"}),chats===null||chats===void 0?void 0:chats.map(function(c){return/*#__PURE__*/_createElement(ChatListItem,_objectSpread(_objectSpread({},c),{},{key:c._id}));})]})]})});};export default Sidebar;","map":{"version":3,"sources":["D:/New folder (4)/instagram-mern-main/backend/frontend/src/components/Chats/Sidebar.jsx"],"names":["useEffect","useState","useDispatch","useSelector","Link","useParams","toast","clearErrors","getAllChats","ChatListItem","SkeletonUserItem","Skeleton","Sidebar","openModal","socket","dispatch","params","state","user","allChats","loading","error","chats","chatId","username","map","c","_id"],"mappings":"2IAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,0BAAzC,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,6BAA7B,CACA,OAASC,QAAT,KAAyB,eAAzB,C,gMAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAA2B,IAAxBC,CAAAA,SAAwB,MAAxBA,SAAwB,CAAbC,MAAa,MAAbA,MAAa,CAEvC,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CACA,GAAMc,CAAAA,MAAM,CAAGX,SAAS,EAAxB,CAEA,iBAAiBF,WAAW,CAAC,SAACc,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAjB,EAAD,CAA5B,CAAQA,IAAR,cAAQA,IAAR,CACA,kBAAkCf,WAAW,CAAC,SAACc,KAAD,QAAWA,CAAAA,KAAK,CAACE,QAAjB,EAAD,CAA7C,CAAQC,OAAR,eAAQA,OAAR,CAAiBC,KAAjB,eAAiBA,KAAjB,CAAwBC,KAAxB,eAAwBA,KAAxB,CAEAtB,SAAS,CAAC,UAAM,CACZ,GAAIqB,KAAJ,CAAW,CACPf,KAAK,CAACe,KAAN,CAAYA,KAAZ,EACAN,QAAQ,CAACR,WAAW,EAAZ,CAAR,CACH,CACDQ,QAAQ,CAACP,WAAW,EAAZ,CAAR,CACH,CANQ,CAMN,CAACO,QAAD,CAAWM,KAAX,CAAkBL,MAAM,CAACO,MAAzB,CANM,CAAT,CAQA,mBACI,sCACI,aAAK,SAAS,CAAC,+CAAf,wBAEI,aAAK,SAAS,CAAC,gDAAf,wBACI,aAAM,SAAS,CAAC,oCAAhB,UAAsDL,IAAI,CAACM,QAA3D,EADJ,cAEI,aAAK,OAAO,CAAEX,SAAd,CAAyB,SAAS,CAAC,gBAAnC,CAAoD,aAAW,aAA/D,CAA6E,KAAK,CAAC,SAAnF,CAA6F,IAAI,CAAC,SAAlG,CAA4G,MAAM,CAAC,IAAnH,CAAwH,IAAI,CAAC,KAA7H,CAAmI,OAAO,CAAC,WAA3I,CAAuJ,KAAK,CAAC,IAA7J,wBAAkK,aAAM,CAAC,CAAC,6EAAR,CAAsF,IAAI,CAAC,MAA3F,CAAkG,MAAM,CAAC,cAAzG,CAAwH,aAAa,CAAC,OAAtI,CAA8I,cAAc,CAAC,OAA7J,CAAqK,WAAW,CAAC,GAAjL,EAAlK,cAA8V,aAAM,CAAC,CAAC,uGAAR,CAAgH,IAAI,CAAC,MAArH,CAA4H,MAAM,CAAC,cAAnI,CAAkJ,aAAa,CAAC,OAAhK,CAAwK,cAAc,CAAC,OAAvL,CAA+L,WAAW,CAAC,GAA3M,EAA9V,cAAojB,aAAM,IAAI,CAAC,MAAX,CAAkB,MAAM,CAAC,cAAzB,CAAwC,aAAa,CAAC,OAAtD,CAA8D,cAAc,CAAC,OAA7E,CAAqF,WAAW,CAAC,GAAjG,CAAqG,EAAE,CAAC,QAAxG,CAAiH,EAAE,CAAC,QAApH,CAA6H,EAAE,CAAC,OAAhI,CAAwI,EAAE,CAAC,OAA3I,EAApjB,GAFJ,GAFJ,cAOI,aAAK,SAAS,CAAC,iDAAf,wBAEI,aAAM,SAAS,CAAC,uBAAhB,sBAFJ,CAgBKS,KAhBL,SAgBKA,KAhBL,iBAgBKA,KAAK,CAAEG,GAAP,CAAW,SAACC,CAAD,qBACR,eAAC,YAAD,gCAAkBA,CAAlB,MAAqB,GAAG,CAAEA,CAAC,CAACC,GAA5B,GADQ,EAAX,CAhBL,GAPJ,GADJ,EADJ,CAmCH,CAnDD,CAqDA,cAAef,CAAAA,OAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { clearErrors, getAllChats } from '../../actions/chatAction';\nimport ChatListItem from './ChatListItem';\nimport SkeletonUserItem from '../Layouts/SkeletonUserItem';\nimport { Skeleton } from '@mui/material';\n\nconst Sidebar = ({ openModal, socket }) => {\n\n    const dispatch = useDispatch();\n    const params = useParams();\n\n    const { user } = useSelector((state) => state.user)\n    const { loading, error, chats } = useSelector((state) => state.allChats)\n\n    useEffect(() => {\n        if (error) {\n            toast.error(error);\n            dispatch(clearErrors());\n        }\n        dispatch(getAllChats());\n    }, [dispatch, error, params.chatId]);\n\n    return (\n        <>\n            <div className=\"hidden sm:flex flex-col h-full w-2/6 border-r\">\n\n                <div className=\"flex items-center justify-between border-b p-4\">\n                    <span className=\"mx-auto font-medium cursor-pointer\">{user.username}</span>\n                    <svg onClick={openModal} className=\"cursor-pointer\" aria-label=\"New Message\" color=\"#262626\" fill=\"#262626\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M12.202 3.203H5.25a3 3 0 00-3 3V18.75a3 3 0 003 3h12.547a3 3 0 003-3v-6.952\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\"></path><path d=\"M10.002 17.226H6.774v-3.228L18.607 2.165a1.417 1.417 0 012.004 0l1.224 1.225a1.417 1.417 0 010 2.004z\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\"></path><line fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" x1=\"16.848\" x2=\"20.076\" y1=\"3.924\" y2=\"7.153\"></line></svg>\n                </div>\n\n                <div className=\"flex flex-col overflow-y-auto overflow-x-hidden\">\n\n                    <span className=\"px-4 py-2 font-medium\">Messages</span>\n\n                    {/* {loading &&\n                        Array(10).fill(\"\").map((el, i) => (\n                            <div className=\"flex items-center gap-2 py-2 px-4\" key={i}>\n                                <Skeleton animation=\"wave\" variant=\"circular\" width={65} height={50} />\n                                <div className=\"flex flex-col gap-0 w-full\">\n                                    <Skeleton height={23} width=\"85%\" animation=\"wave\" />\n                                    <Skeleton height={23} width=\"60%\" animation=\"wave\" />\n                                </div>\n                            </div>\n                        ))\n                    } */}\n\n                    {chats?.map((c) => (\n                        <ChatListItem {...c} key={c._id} />\n                    ))}\n\n                </div>\n\n            </div>\n\n        </>\n    )\n}\n\nexport default Sidebar"]},"metadata":{},"sourceType":"module"}