{"ast":null,"code":"import _slicedToArray from\"D:/New folder (4)/instagram-mern-main/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import TextField from'@mui/material/TextField';import Auth from'./Auth';import{Link,useNavigate,useParams}from'react-router-dom';import{toast}from'react-toastify';import{clearErrors,resetPassword}from'../../actions/userAction';import{useDispatch,useSelector}from'react-redux';import BackdropLoader from'../Layouts/BackdropLoader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ResetPassword=function ResetPassword(){var dispatch=useDispatch();var navigate=useNavigate();var params=useParams();var _useSelector=useSelector(function(state){return state.forgotPassword;}),error=_useSelector.error,success=_useSelector.success,loading=_useSelector.loading;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newPassword=_useState2[0],setNewPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),confirmPassword=_useState4[0],setConfirmPassword=_useState4[1];var handleSubmit=function handleSubmit(e){e.preventDefault();if(newPassword.length<8){toast.warn(\"Password length must be atleast 8 characters\");return;}if(newPassword!==confirmPassword){toast.error(\"Password Doesn't Match\");return;}dispatch(resetPassword(params.token,newPassword));};useEffect(function(){if(error){toast.error(error);dispatch(clearErrors());}if(success){toast.success(\"Password Updated Successfully\");navigate(\"/login\");}},[dispatch,error,success,navigate]);return/*#__PURE__*/_jsxs(_Fragment,{children:[loading&&/*#__PURE__*/_jsx(BackdropLoader,{}),/*#__PURE__*/_jsxs(Auth,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border flex flex-col gap-2 p-4 pt-10\",children:[/*#__PURE__*/_jsx(\"img\",{draggable:\"false\",className:\"mx-auto h-30 w-36 object-contain\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flex flex-col justify-center items-center gap-3 m-3 md:m-8\",children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,size:\"small\",label:\"New Password\",type:\"password\",name:\"newPassword\",value:newPassword,onChange:function onChange(e){return setNewPassword(e.target.value);},required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,size:\"small\",label:\"Confirm New Password\",type:\"password\",name:\"confirmPassword\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-primary-blue font-medium py-2 rounded text-white w-full\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"span\",{className:\"my-3 text-gray-700\",children:\"OR\"}),/*#__PURE__*/_jsx(Link,{to:\"/password/forgot\",className:\"text-sm font-medium text-blue-800\",children:\"Forgot password?\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border p-5 text-center\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-primary-blue\",children:\"Log in\"})]})})]})]});};export default ResetPassword;","map":{"version":3,"sources":["D:/New folder (4)/instagram-mern-main/backend/frontend/src/components/User/ResetPassword.jsx"],"names":["React","useEffect","useState","TextField","Auth","Link","useNavigate","useParams","toast","clearErrors","resetPassword","useDispatch","useSelector","BackdropLoader","ResetPassword","dispatch","navigate","params","state","forgotPassword","error","success","loading","newPassword","setNewPassword","confirmPassword","setConfirmPassword","handleSubmit","e","preventDefault","length","warn","token","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport TextField from '@mui/material/TextField';\nimport Auth from './Auth';\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { clearErrors, resetPassword } from '../../actions/userAction';\nimport { useDispatch, useSelector } from 'react-redux';\nimport BackdropLoader from '../Layouts/BackdropLoader';\n\nconst ResetPassword = () => {\n\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const params = useParams();\n\n    const { error, success, loading } = useSelector((state) => state.forgotPassword);\n\n    const [newPassword, setNewPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        if (newPassword.length < 8) {\n            toast.warn(\"Password length must be atleast 8 characters\");\n            return;\n        }\n        if (newPassword !== confirmPassword) {\n            toast.error(\"Password Doesn't Match\");\n            return;\n        }\n        dispatch(resetPassword(params.token, newPassword));\n    }\n\n    useEffect(() => {\n        if (error) {\n            toast.error(error);\n            dispatch(clearErrors());\n        }\n        if (success) {\n            toast.success(\"Password Updated Successfully\");\n            navigate(\"/login\")\n        }\n    }, [dispatch, error, success, navigate]);\n\n    return (\n        <>\n            {loading && <BackdropLoader />}\n            <Auth>\n                <div className=\"bg-white border flex flex-col gap-2 p-4 pt-10\">\n                    <img draggable=\"false\" className=\"mx-auto h-30 w-36 object-contain\" src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"\" />\n                    <form onSubmit={handleSubmit} className=\"flex flex-col justify-center items-center gap-3 m-3 md:m-8\">\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            label=\"New Password\"\n                            type=\"password\"\n                            name=\"newPassword\"\n                            value={newPassword}\n                            onChange={(e) => setNewPassword(e.target.value)}\n                            required\n                        />\n                        <TextField\n                            fullWidth\n                            size=\"small\"\n                            label=\"Confirm New Password\"\n                            type=\"password\"\n                            name=\"confirmPassword\"\n                            value={confirmPassword}\n                            onChange={(e) => setConfirmPassword(e.target.value)}\n                            required\n                        />\n                        <button type=\"submit\" className=\"bg-primary-blue font-medium py-2 rounded text-white w-full\">Submit</button>\n                        <span className=\"my-3 text-gray-700\">OR</span>\n                        <Link to=\"/password/forgot\" className=\"text-sm font-medium text-blue-800\">Forgot password?</Link>\n                    </form>\n                </div>\n\n                <div className=\"bg-white border p-5 text-center\">\n                    <span>Already have an account? <Link to=\"/login\" className=\"text-primary-blue\">Log in</Link></span>\n                </div>\n            </Auth>\n        </>\n    )\n}\n\nexport default ResetPassword"]},"metadata":{},"sourceType":"module"}