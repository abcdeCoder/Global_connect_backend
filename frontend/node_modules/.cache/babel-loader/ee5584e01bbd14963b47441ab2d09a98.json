{"ast":null,"code":"import _objectSpread from\"D:/New folder (4)/instagram-mern-main/backend/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{toast}from'react-toastify';import{getPostsOfFollowing}from'../../../actions/postAction';import{clearErrors,getSuggestedUsers,loadUser}from'../../../actions/userAction';import{POST_FOLLOWING_RESET}from'../../../constants/postConstants';import{FOLLOW_USER_RESET}from'../../../constants/userConstants';import SkeletonUserItem from'../../Layouts/SkeletonUserItem';import UserListItem from'./UserListItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{createElement as _createElement}from\"react\";var Sidebar=function Sidebar(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.user;}),user=_useSelector.user;var _useSelector2=useSelector(function(state){return state.allUsers;}),error=_useSelector2.error,users=_useSelector2.users,loading=_useSelector2.loading;var _useSelector3=useSelector(function(state){return state.followUser;}),followError=_useSelector3.error,success=_useSelector3.success,message=_useSelector3.message;useEffect(function(){if(error){toast.error(error);dispatch(clearErrors());}dispatch(getSuggestedUsers());},[dispatch,error]);useEffect(function(){if(followError){toast.error(followError);dispatch(clearErrors());}if(success){toast.success(message);// dispatch({ type: POST_FOLLOWING_RESET });\n// dispatch(getPostsOfFollowing());\ndispatch({type:FOLLOW_USER_RESET});}},[success,followError]);return/*#__PURE__*/_jsx(\"div\",{className:\"fixed lg:right-32 xl:right-56 w-3/12 h-full hidden lg:flex flex-col flex-auto m-8 mt-12 pr-8 -z-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ml-10 flex flex-col p-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-auto space-x-4 items-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\".concat(user.username),children:/*#__PURE__*/_jsx(\"img\",{draggable:\"false\",className:\"w-14 h-14 rounded-full object-cover\",src:user.avatar,alt:user.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\".concat(user.username),className:\"text-black text-sm font-semibold\",children:user.username}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:user.name})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-500 text-xs font-semibold cursor-pointer\",children:\"Switch\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-500 text-sm\",children:\"Suggestions For You\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-black text-xs font-semibold cursor-pointer\",children:\"See All\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col flex-auto mt-3 space-y-3.5\",children:loading?Array(5).fill(\"\").map(function(el,i){return/*#__PURE__*/_jsx(SkeletonUserItem,{},i);}):users===null||users===void 0?void 0:users.map(function(user){return/*#__PURE__*/_createElement(UserListItem,_objectSpread(_objectSpread({},user),{},{key:user._id}));})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mt-8 space-y-6 text-xs text-gray-400\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-1.5\",children:['About','Help','Press','API','Jobs','Privacy','Terms','Locations'].map(function(el,i){return/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:el},i);})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-1.5\",children:['Top Accounts','Hashtags','Language'].map(function(el,i){return/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:el},i);})})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA9 \",new Date().getFullYear(),\" GLobal Connect\"]})]})]})});};export default Sidebar;","map":{"version":3,"sources":["D:/New folder (4)/instagram-mern-main/backend/frontend/src/components/Home/Sidebar/Sidebar.jsx"],"names":["useEffect","useDispatch","useSelector","Link","toast","getPostsOfFollowing","clearErrors","getSuggestedUsers","loadUser","POST_FOLLOWING_RESET","FOLLOW_USER_RESET","SkeletonUserItem","UserListItem","Sidebar","dispatch","state","user","allUsers","error","users","loading","followUser","followError","success","message","type","username","avatar","name","Array","fill","map","el","i","_id","Date","getFullYear"],"mappings":"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","sourcesContent":["import { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { getPostsOfFollowing } from '../../../actions/postAction';\nimport { clearErrors, getSuggestedUsers, loadUser } from '../../../actions/userAction';\nimport { POST_FOLLOWING_RESET } from '../../../constants/postConstants';\nimport { FOLLOW_USER_RESET } from '../../../constants/userConstants';\nimport SkeletonUserItem from '../../Layouts/SkeletonUserItem';\nimport UserListItem from './UserListItem';\n\nconst Sidebar = () => {\n\n    const dispatch = useDispatch();\n\n    const { user } = useSelector((state) => state.user);\n\n    const { error, users, loading } = useSelector((state) => state.allUsers)\n    const { error: followError, success, message } = useSelector((state) => state.followUser)\n\n    useEffect(() => {\n        if (error) {\n            toast.error(error);\n            dispatch(clearErrors());\n        }\n        dispatch(getSuggestedUsers());\n    }, [dispatch, error]);\n\n    useEffect(() => {\n        if (followError) {\n            toast.error(followError);\n            dispatch(clearErrors());\n        }\n        if (success) {\n            toast.success(message);\n            // dispatch({ type: POST_FOLLOWING_RESET });\n            // dispatch(getPostsOfFollowing());\n            dispatch({ type: FOLLOW_USER_RESET });\n        }\n    }, [success, followError])\n\n\n    return (\n        <div className=\"fixed lg:right-32 xl:right-56 w-3/12 h-full hidden lg:flex flex-col flex-auto m-8 mt-12 pr-8 -z-1\">\n\n            <div className=\"ml-10 flex flex-col p-2\">\n\n                {/* <!-- self profile card --> */}\n                <div className=\"flex justify-between items-center\">\n                    <div className=\"flex flex-auto space-x-4 items-center\">\n                        <Link to={`/${user.username}`}><img draggable=\"false\" className=\"w-14 h-14 rounded-full object-cover\" src={user.avatar} alt={user.name} /></Link>\n                        <div className=\"flex flex-col\">\n                            <Link to={`/${user.username}`} className=\"text-black text-sm font-semibold\">{user.username}</Link>\n                            <span className=\"text-gray-400 text-sm\">{user.name}</span>\n                        </div>\n                    </div>\n                    <span className=\"text-blue-500 text-xs font-semibold cursor-pointer\">Switch</span>\n                </div>\n\n                {/* <!-- suggestions --> */}\n                <div className=\"flex justify-between items-center mt-5\">\n                    <p className=\"font-semibold text-gray-500 text-sm\">Suggestions For You</p>\n                    <span className=\"text-black text-xs font-semibold cursor-pointer\">See All</span>\n                </div>\n\n                {/* <!-- suggested profile lists --> */}\n                <div className=\"flex flex-col flex-auto mt-3 space-y-3.5\">\n\n                    {loading ?\n                        Array(5).fill(\"\").map((el, i) => (<SkeletonUserItem key={i} />))\n                        :\n                        users?.map((user) => (\n                            <UserListItem {...user} key={user._id} />\n                        ))\n                    }\n                </div>\n\n                {/* <!-- sidebar footer container--> */}\n                <div className=\"flex flex-col mt-8 space-y-6 text-xs text-gray-400\">\n                <div className=\"flex flex-col\">\n                    <div className=\"flex items-center space-x-1.5\">\n                        {['About', 'Help', 'Press', 'API', 'Jobs', 'Privacy', 'Terms', 'Locations'].map((el, i) => (\n                            <a href=\"#\" key={i}>{el}</a>\n                        ))}\n                    </div>\n                    <div className=\"flex items-center space-x-1.5\">\n                        {['Top Accounts', 'Hashtags', 'Language'].map((el, i) => (\n                            <a href=\"#\" key={i}>{el}</a>\n                        ))}\n                    </div>\n                </div>\n                <span>&copy; {new Date().getFullYear()} GLobal Connect</span>\n            </div>\n\n        </div>\n        </div >\n    )\n}\n\nexport default Sidebar"]},"metadata":{},"sourceType":"module"}